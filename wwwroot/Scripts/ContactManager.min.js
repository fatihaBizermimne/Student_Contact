import { Start as fw } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Create as fx, Lazy as fy, GetOptional as fz, SetOptional as fA, OnLoad as fB } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fC){ return"Dispose"in fC;}
function b(){ let fC=k("", "", "", "", "");const fD=p((fE) =>(fF) =>(fG) =>(fH) =>(fI) =>(fJ) => e(fE, fF, fG, fH, fI, fJ), o((fE) => { const fF=c().Get();if(fF==null)d().Set(z.Cons(fE, d().Get()));else { const fG=fF.$0;d().Set(A((fH, fI) => fH===fG?fE:fI, d().Get()));c().Set(null);} alert("Your Contact: "+fE.firstName+" "+fE.lastName+"!");fC=k("", "", "", "", "");}, f(fC)));u0032("");N.RunById("main", fD);}
function c(){ return K.editIndex;}
function d(){ return K.contactList;}
function e(fC, fD, fE, fF, fG, fH){ return N.Element("section", [bL.Create("class", "section")], [N.Element("h2", [bL.Create("class", "subtitle")], [N.TextNode("Contact Manager")]), N.Element("p", [bL.Create("class", "subhead")], [N.TextNode("A simple Website that stores, Updates and Deletes Contact Information")]), N.Element("div", [bL.Create("class", "field")], [N.Element("label", [bL.Create("class", "label")], [N.TextNode("First name: "), N.Input([bL.Create("class", "input")], fC)]), g(Y(fH.view, fC))]), N.Element("div", [bL.Create("class", "field")], [N.Element("label", [bL.Create("class", "label")], [N.TextNode("Last name: "), N.Input([bL.Create("class", "input")], fD)]), g(Y(fH.view, fD))]), N.Element("div", [bL.Create("class", "field")], [N.Element("label", [bL.Create("class", "label")], [N.TextNode("Email: "), N.EmailInput([bL.Create("class", "input")], fE)]), g(Y(fH.view, fE))]), N.Element("div", [bL.Create("class", "field")], [N.Element("label", [bL.Create("class", "label")], [N.TextNode("Phone: "), N.Input([bL.Create("class", "input")], fF)]), g(Y(fH.view, fF))]), N.Element("div", [bL.Create("class", "field")], [N.Element("label", [bL.Create("class", "label")], [N.TextNode("Address: "), N.Input([bL.Create("class", "input")], fG)]), g(Y(fH.view, fG))]), N.Element("div", [], [N.Button("Submit", [bL.Create("class", "button")], () => { fH.Trigger();})]), N.Element("div", [], [N.Button("View Contacts", [bL.Create("class", "button")], () => { h();})]), N.EmbedView(O((fI) => fI?N.Element("div", [bL.Create("class", "modal is-active")], [N.Element("div", [bL.Create("class", "modal-background")], [N.Button("", [], () => { j();})]), N.Element("div", [bL.Create("class", "modal-content")], [N.Element("div", [bL.Create("class", "box")], [N.Element("h2", [bL.Create("class", "subtitle")], [N.TextNode("Contact List")]), N.BindView((fJ) => fJ.$==0?N.Element("p", [], [N.TextNode("No Contacts available")]):N.Element("ul", [bL.Create("class", "listing")], A((fK, fL) => N.Element("li", [], [N.TextNode("* - "+u0030(fL.firstName)+" "+u0030(fL.lastName)+" ("+u0030(fL.email)+", "+u0030(fL.phone)+", "+u0030(fL.address)+")"), N.Button("Edit", [bL.Create("class", "button is-small")], () => { c().Set(u0031(fK));fC.Set(fL.firstName);fD.Set(fL.lastName);fE.Set(fL.email);fF.Set(fL.phone);fG.Set(fL.address);}), N.Button("Delete", [bL.Create("class", "button is-small")], () => { d().Set(B((fM) => fM, A((fM, fN) => fM!==fK?u0031(fN):null, d().Get())));})]), fJ)), d().View)])]), N.Element("div", [bL.Create("class", "modal-close is-large")], [N.Button("", [], () => { j();})])]):N.Empty, i().View))]);}
function f(fC){ return t(be(be(be(be(be(r((fD) =>(fE) =>(fF) =>(fG) =>(fH) => k(fD, fE, fF, fG, fH)), bf("Please enter the first name.", s(fC.firstName))), bf("Please enter the last name.", s(fC.lastName))), bg("^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$", "Invalid email address.", s(fC.email))), bg("^[0-9]+$", "Invalid phone number format.", s(fC.phone))), s(fC.address)));}
function g(fC){ return N.EmbedView(O((fD) => { if(fD.$==1){ const fE=fD.$0;return N.Concat(D(bM(() => bN((fF) => N.Element("b", [bL.Create("style", "color:red")], [N.TextNode(fF.message)]), fE))));} else return N.Empty;}, fC));}
function h(){ i().Set(true);}
function i(){ return K.modalVisible;}
function j(){ i().Set(false);}
function k(fC, fD, fE, fF, fG){ return{firstName:fC, lastName:fD, email:fE, phone:fF, address:fG};}
function l(fC){ throw new Error(fC);}
function m(fC){ return[fC.K, fC.V];}
function n(fC, fD){ const fE=1+fD-fC;return fE<=0?[]:bU(fE, (fF) => fF+fC);}
function o(fC, fD){ return q((fE) => { fC(fE);return fE;}, fD);}
function p(fC, fD){ const fE=fD.render(fC);return N.Append(N.EmbedView(O(() => N.Empty, fD.view)), fE);}
function q(fC, fD){ return u((fE) => bi(fC, fE), fD);}
function r(fC){ return M(cd(), R(bo(fC)), (fD) => fD);}
function s(fC){ return w(bl.Create_1(fC));}
function t(fC){ const fD=new Z(fC.view, bn(z.Empty));return M(cd(), fD.view, (fE) =>(fC.render(fE))(fD));}
function u(fC, fD){ return M(fD.id, O(fC, fD.view), fD.render);}
function v(fC, fD){ let fE=cd();let fF=T(bj, fC.view, fD.view);const fG=fC.render;const fH=fD.render;return M(fE, fF, (fI) => fH(fG(fI)));}
function w(fC){ return M(fC.Id, O(bo, fC.View), (fD) => fD(fC));}
class x { Equals(fC){ return this===fC;} GetHashCode(){ return -1;} }
class y extends x { }
class z { static Cons(fC, fD){ return fx(z, {$:1, $0:fC, $1:fD});} static Empty=fx(z, {$:0});GetEnumerator(){ return new c8(this, null, (fC) => { const fD=fC.s;return fD.$==0?false:(fC.c=fD.$0,fC.s=fD.$1,true);}, void 0);} }
function A(fC, fD){ let fE;let fF;let fG;let fH;if(fD.$==0)return fD;else { const fI=fx(z, {$:1});fE=fI;fF=fD;fG=0;fH=true;while(fH){ fE.$0=fC(fG, fF.$0);fF=fF.$1;if(fF.$==0)fH=false;else { const fJ=fx(z, {$:1});fE=(fE.$1=fJ,fJ);fG=fG+1;} } fE.$1=z.Empty;return fI;} }
function B(fC, fD){ return D(bO(fC, fD));}
function C(fC, fD){ let fE;let fF;let fG;let fH;if(fD.$==0)return fD;else { fE=z.Empty;fF=fE;fG=fD;fH=true;while(fH){ if(fC(fG.$0)){ if(fE.$==0){ fE=fx(z, {$:1});fF=fE;} else { const fI=fx(z, {$:1});fF=(fF.$1=fI,fI);} const fJ=fG.$0;fF.$=1;fF.$0=fJ;} fG=fG.$1;if(fG.$==0)fH=false;} if(!(fE.$==0))fF.$1=z.Empty;return fE;} }
function D(fC){ if(fC instanceof z)return fC;else if(fC instanceof Array)return E(fC);else { const fD=c4(fC);try { let fE;let fF=fD.MoveNext();if(!fF)return z.Empty;else { const fG=fx(z, {$:1});fE=fG;while(fF){ fE.$0=fD.Current;if(fD.MoveNext()){ const fH=fx(z, {$:1});fE=(fE.$1=fH,fH);} else fF=false;} fE.$1=z.Empty;return fG;} } finally { if(typeof fD=="object"&&a(fD))fD.Dispose();} } }
function E(fC){ let fD=z.Empty;for(let fE=c_(fC)-1, fF=0;fE>=fF;fE--)fD=z.Cons(c9(fC, fE), fD);return fD;}
function F(fC, fD){ let fE;let fF;let fG;if(fC.$==0)return fD;else if(fD.$==0)return fC;else { const fH=fx(z, {$:1});fE=fH;fF=fC;fG=true;while(fG){ fE.$0=fF.$0;fF=fF.$1;if(fF.$==0)fG=false;else { const fI=fx(z, {$:1});fE=(fE.$1=fI,fI);} } fE.$1=fD;return fH;} }
function G(fC){ return fC.$==1?fC.$0:I();}
function H(fC){ return fC.$==1?fC.$1:I();}
function I(){ return l("The input list was empty.");}
function J(fC){ let fD=[];let fE;for(var fF in fC)fD.push(fC[fF]);return fD;}
let K=fy((fC) => class fD { static { K=fC(this);} static modalVisible;static editIndex;static contactList;static { this.contactList=bl.Create_1(z.Empty);this.editIndex=bl.Create_1(null);this.modalVisible=bl.Create_1(false);} });
function L(fC){ const fD={};const fE=c4(fC);try { while(fE.MoveNext()){ const fF=fE.Current;fD[fF[0]]=fF[1];} } finally { if(typeof fE=="object"&&a(fE))fE.Dispose();} return fD;}
function M(fC, fD, fE){ return{id:fC, view:fD, render:fE};}
class N extends x { docNode;updates;static Append(fC, fD){ return N.Mk(bp(fC.docNode, fD.docNode), P(fC.updates, fD.updates));} static get Empty(){ return N.Mk(null, R());} static RunById(fC, fD){ const fE=globalThis.document.getElementById(fC);if(b3(fE, null))l("invalid id: "+fC);else N.Run(fE, fD);} static Mk(fC, fD){ return new N(fC, fD);} static EmbedView(fC){ const fD=ch();return N.Mk(bq(fD), O(() => { }, S((fE) => { ci(fD, fE.docNode);return fE.updates;}, fC)));} static TextNode(fC){ return N.Mk(br(globalThis.document.createTextNode(fC)), R());} static Input(fC, fD){ return N.InputInternal("input", () => bP(fC, [cY(fD)]));} static Concat(fC){ return c2(N.Empty, N.Append, c1(fC));} static EmailInput(fC, fD){ return N.InputInternal("input", () => bP(fC, [cY(fD), bL.Create("type", "email")]));} static Button(fC, fD, fE){ const fF=bL.Concat(fD);return dT.New(N.Clickable("button", fE), fF, N.TextNode(fC));} static Run(fC, fD){ cj(fC, fD.docNode);N.RunInPlace(false, fC, fD);} static Element(fC, fD, fE){ const fF=bL.Concat(fD);const fG=N.Concat(fE);return dT.New(globalThis.document.createElement(fC), fF, fG);} static InputInternal(fC, fD){ const fE=globalThis.document.createElement(fC);return dT.New(fE, bL.Concat(fD(fE)), N.Empty);} static Clickable(fC, fD){ const fE=globalThis.document.createElement(fC);fE.addEventListener("click", (fF) => { fF.preventDefault();return fD();}, false);return fE;} static BindView(fC, fD){ return N.EmbedView(O(fC, fD));} static RunInPlace(fC, fD, fE){ const fF=cl(fD, fE.docNode);V(d9()||ee()?ef(cm(fC, fF, fE.docNode)):() => { cn(fC, fF, fE.docNode);}, fE.updates);} constructor(fC, fD){ super();this.docNode=fC;this.updates=fD;} }
function O(fC, fD){ return Q(() => bt(fC, fD()));}
function P(fC, fD){ return Q(() => bu(fC(), fD()));}
function Q(fC){ const fD={c:null, o:fC};return() => { let fE=fD.c;if(fE===null){ fE=fD.o();fD.c=fE;const fF=fE.s;if(fF!=null&&fF.$==0)fD.o=null;else bv(fE, () => { fD.c=null;});return fE;} else return fE;};}
function R(fC){ const fD={s:di(fC)};return() => fD;}
function S(fC, fD){ return U(O(fC, fD));}
function T(fC, fD, fE){ return Q(() => bC(fC, fD(), fE()));}
function U(fC){ return Q(() => bD(fC()));}
function V(fC, fD){ function fE(){ bE(fD(), fC, () => { eF().Fork(fE);});} eF().Fork(fE);}
function W(fC, fD, fE){ const fF={s:dh(fC, [])};return Q(() => fF.s==null?bH(fD(), fE()):(bI(fD(), fF),fF));}
class X extends x { }
function Y(fC, fD){ return O((fE) => fE.$==1?bn(C((fF) => fF.id==fD.Id, fE.$0)):fE, fC);}
class Z extends x { input;u0076ar;view;Trigger(){ this.u0076ar.Set(null);} constructor(fC, fD){ super();this.input=fC;this.u0076ar=bl.Create();this.view=W(fD, this.u0076ar.View, this.input);} }
function u0030(fC){ return fC==null?"":fC;}
function u0031(fC){ return{$:1, $0:fC};}
function u0032(fC){!u0033()?(u0034(true),u0035(globalThis.document.body, "")):void 0;u0036().set_Item(fC, u0037(""));}
function u0033(){ return db.LocalTemplatesLoaded;}
function u0034(fC){ db.LocalTemplatesLoaded=fC;}
function u0035(fC, fD){ const fE=u0037(fD);const fF=new cc("New_5");const fG=fC.querySelectorAll("[ws-template]");for(let fS=0, fT=fG.length-1;fS<=fT;fS++){ const fH=fG[fS];const fI=fH.getAttribute("ws-template").toLowerCase();fH.removeAttribute("ws-template");fF.set_Item(fI, u0038(fH));} const fJ=fC.querySelectorAll("[ws-children-template]");for(let fU=0, fV=fJ.length-1;fU<=fV;fU++){ const fK=fJ[fU];const fL=fK.getAttribute("ws-children-template").toLowerCase();fK.removeAttribute("ws-children-template");fF.set_Item(fL, u0039(fK));} const fM=fC.querySelectorAll("template[id]");for(let fW=0, fX=fM.length-1;fW<=fX;fW++){ const fN=fM[fW];fF.set_Item(fN.getAttribute("id").toLowerCase(), $(fN));} const fO=fC.querySelectorAll("template[name]");for(let fY=0, fZ=fO.length-1;fY<=fZ;fY++){ const fP=fO[fY];fF.set_Item(fP.getAttribute("name").toLowerCase(), $(fP));} const fQ=new dc("New_3");function fR(f0){ if(!fE.ContainsKey(f0)){ let f1;const f2=(f1=null,[fF.TryGetValue(f0, {get:() => f1, set:(f3) => { f1=f3;}}), f1]);if(f2[0]){ fQ.SAdd(f0);fF.RemoveKey(f0);ba(fD, u0031(f0), f2[1], u0031(fR));} else console.warn(fQ.Contains(f0)?"Encountered loop when instantiating "+f0:"Local template does not exist: "+f0);} } while(fF.count>0)fR(bR(fF.Keys));}
function u0036(){ return db.LoadedTemplates;}
function u0037(fC){ let fD;const fE=(fD=null,[u0036().TryGetValue(fC, {get:() => fD, set:(fG) => { fD=fG;}}), fD]);if(fE[0])return fE[1];else { const fF=new cc("New_5");u0036().set_Item(fC, fF);return fF;} }
function u0038(fC){ fC.removeAttribute("ws-template");const fD=fC.getAttribute("ws-replace");if(fD==null){ } else { fC.removeAttribute("ws-replace");const fE=fC.parentNode;if(b3(fE, null)){ } else { const fF=globalThis.document.createElement(fC.tagName);fF.setAttribute("ws-replace", fD);fE.replaceChild(fF, fC);} } const fG=globalThis.document.createElement("div");fG.appendChild(fC);return fG;}
function u0039(fC){ const fD=globalThis.document.createElement("div");while(fC.hasChildNodes())fD.appendChild(fC.firstChild);return fD;}
function $(fC){ const fD=globalThis.document.createElement("div");const fE=fC.content;for(let fF=0, fG=fE.childNodes.length-1;fF<=fG;fF++)fD.appendChild(fE.childNodes[fF].cloneNode(true));return fD;}
function ba(fC, fD, fE, fF){ const fG=new dc("New_3");function fH(fO, fP){ while(true)switch(fO){ case 0:if(fP!==null){ const fQ=fP.nextSibling;if(b3(fP.nodeType, Node.TEXT_NODE))dW(fP);else if(b3(fP.nodeType, Node.ELEMENT_NODE))fJ(fP);fP=fQ;} else return null;break;case 1:const fR=d4(fP.nodeName, u0031(3), null).toLowerCase();const fS=fR.indexOf(".");const fT=fS===-1?[fC, fR]:[d4(fR, null, u0031(fS-1)), d4(fR, u0031(fS+1), null)];const fU=fT[1];const fV=fT[0];if(fV!=""&&!u0036().ContainsKey(fV))return dX(fU);else { if(fV==""&&fF!=null)fF.$0(fU);const fW=u0036().Item(fV);if(!fW.ContainsKey(fU))return dX(fU);else { const fX=fW.Item(fU);const fY=fX.cloneNode(true);const fZ=new dc("New_3");const f0=new cc("New_5");const f1=fP.attributes;for(let f$=0, ga=f1.length-1;f$<=ga;f$++){ const f2=f1.item(f$).name.toLowerCase();const f3=f1.item(f$).nodeValue;let f4=f3==""?f2:f3.toLowerCase();f0.set_Item(f2, f4);if(!fZ.SAdd(f2))console.warn("Hole mapped twice", f2);} for(let gb=0, gc=fP.childNodes.length-1;gb<=gc;gb++){ const f5=fP.childNodes[gb];if(b3(f5.nodeType, Node.ELEMENT_NODE))if(!fZ.SAdd(f5.nodeName.toLowerCase()))console.warn("Hole filled twice", fU);} const f6=fP.childNodes.length===1&&b3(fP.firstChild.nodeType, Node.TEXT_NODE);if(f6){ const f7=dY(fY, fP.firstChild.textContent, fU);const f8=((gd) =>(ge) => gd.SAdd(ge))(fZ);let f9=((gd) =>(ge) => { if(ge!=null)gd(ge.$0);})((gd) => { f8(gd);});f9(f7);} dZ(fY, fZ);if(!f6){ for(let gd=0, ge=fP.childNodes.length-1;gd<=ge;gd++){ const f_=fP.childNodes[gd];if(b3(f_.nodeType, Node.ELEMENT_NODE))if(f_.hasAttributes())d0(fY, f_);else fI(fY, f_);} } d1(fY, f0);d2(fY, fP.parentNode, fP);fP.parentNode.removeChild(fP);return;} } break;} } function fI(fO, fP){ const fQ=fP.nodeName.toLowerCase();const fR=(fV, fW) => { if(fQ=="title"&&fP.hasChildNodes()){ const fX=cP(fP.textContent);fP.removeChild(fP.firstChild);while(fX.hasChildNodes())fP.appendChild(fX.firstChild);} fJ(fP);return d2(fP, fV, fW);};bb(fO, "[ws-attr-holes]", (fV) => { const fW=el(fV.getAttribute("ws-attr-holes"), [" "], 1);for(let f0=0, f1=fW.length-1;f0<=f1;f0++){ const fX=c9(fW, f0);let fY=new RegExp("\\${"+fQ+"}", "ig");let fZ=fV.getAttribute(fX).replace(fY, fP.textContent);fV.setAttribute(fX, fZ);} });const fS=fO.querySelector("[ws-hole="+fQ+"]");if(b3(fS, null)){ const fT=fO.querySelector("[ws-replace="+fQ+"]");if(b3(fT, null)){ const fU=fO.querySelector("slot[name="+fQ+"]");return fO.tagName.toLowerCase()=="template"?(fR(fU.parentNode, fU),void fU.parentNode.removeChild(fU)):null;} else { fR(fT.parentNode, fT);fT.parentNode.removeChild(fT);return;} } else { while(fS.hasChildNodes())fS.removeChild(fS.lastChild);fS.removeAttribute("ws-hole");return fR(fS, null);} } function fJ(fO){ if(!fO.hasAttribute("ws-preserve"))if(em(fO.nodeName.toLowerCase(), "ws-"))fL(fO);else { d3(fO);fK(fO.firstChild);} } function fK(fO){ return fH(0, fO);} function fL(fO){ return fH(1, fO);} function fM(fO){ while(true){ const fP=fO.querySelector("[ws-template]");if(b3(fP, null)){ const fQ=fO.querySelector("[ws-children-template]");if(b3(fQ, null)){ const fR=fO.querySelectorAll("template[id]");for(let fX=1, fY=fR.length-1;fX<=fY;fX++){ const fS=fR[fX];if(fG.Contains(fS)){ } else { ba(fC, u0031(fS.getAttribute("id")), fS, null);fG.SAdd(fS);} } const fT=fO.querySelectorAll("template[name]");for(let fZ=1, f0=fT.length-1;fZ<=f0;fZ++){ const fU=fT[fZ];if(fG.Contains(fU)){ } else { ba(fC, u0031(fU.getAttribute("name")), fU, null);fG.SAdd(fU);} } return null;} else { const fV=fQ.getAttribute("ws-children-template");fQ.removeAttribute("ws-children-template");ba(fC, u0031(fV), fQ, null);fO=fO;} } else { const fW=fP.getAttribute("ws-template");(bc(fC, u0031(fW), fP))(null);fO=fO;} } } const fN=(fD==null?"":fD.$0).toLowerCase();u0037(fC).set_Item(fN, fE);if(fE.hasChildNodes()){ fM(fE);fK(fE.firstChild);} }
function bb(fC, fD, fE){ cV(fC, fD, (fF) => { if(fF.closest("[ws-preserve]")==null)fE(fF);});}
function bc(fC, fD, fE){ const fF=u0038(fE);return(fG) => { ba(fC, fD, fF, fG);};}
function bd(){ return db.TextHoleRE;}
function be(fC, fD){ return v(fC, fD);}
function bf(fC, fD){ return bh((fE) => fE!="", fC, fD);}
function bg(fC, fD, fE){ const fF=new RegExp(fC);return bh((fG) => fF.test(fG), fD, fE);}
function bh(fC, fD, fE){ return u((fF) => fF.$==1?fF:fC(fF.$0)?fF:bn(E([new b2(fE.id, fD)])), fE);}
function bi(fC, fD){ return fD.$==1?bn(fD.$0):bo(fC(fD.$0));}
function bj(fC, fD){ return fC.$==0?fD.$==0?bo(fC.$0(fD.$0)):bn(fD.$0):fD.$==0?bn(fC.$0):bn(F(fC.$0, fD.$0));}
function bk(fC, fD){ return e8(fC, -2147483648, 2147483647, fD);}
let bl=fy((fC) => class fD extends x { static { bl=fC(this);} static Create_1(fE){ return new cf(false, {s:dh(fE, [])}, fE);} static Create(){ return new cf(false, {s:dh(null, [])}, null);} static { } });
class bm { }
function bn(fC){ return{$:1, $0:fC};}
function bo(fC){ return{$:0, $0:fC};}
function bp(fC, fD){ return{$:0, $0:fC, $1:fD};}
function bq(fC){ return{$:2, $0:fC};}
function br(fC){ return{$:5, $0:fC};}
function bs(fC){ return{$:1, $0:fC};}
function bt(fC, fD){ const fE=fD.s;if(fE!=null&&fE.$==0)return{s:di(fC(fE.$0))};else { const fF={s:dj([], [])};bw(fD, (fG) => { bx(fF, fD, fC(fG));}, fF);return fF;} }
function bu(fC, fD){ const fE=fC.s;const fF=fD.s;if(fE!=null&&fE.$==0)return fF!=null&&fF.$==0?{s:di(null)}:fD;else if(fF!=null&&fF.$==0)return fC;else { const fG={s:dj([], [])};const fH=() => { const fI=fG.s;if(!(fI!=null&&fI.$==0||fI!=null&&fI.$==2)){ const fJ=by(fC);const fK=by(fD);if(fJ!=null&&fJ.$==1)if(fK!=null&&fK.$==1)if(fJ.$0[1]&&fK.$0[1])bz(fG, null);else bA(fG, null);} };bw(fC, fH, fG);bw(fD, fH, fG);return fG;} }
function bv(fC, fD){ const fE=fC.s;if(fE==null)fD();else fE!=null&&fE.$==2?fE.$1.push(fD):fE!=null&&fE.$==3?fE.$1.push(fD):void 0;}
function bw(fC, fD, fE){ const fF=fC.s;if(fF==null)cg(fE);else fF!=null&&fF.$==2?(bB(fF.$1, fE),fD(fF.$0)):fF!=null&&fF.$==3?(fF.$0.push(fD),bB(fF.$1, fE)):fD(fF.$0);}
function bx(fC, fD, fE){ const fF=fD.s;if(fF!=null&&fF.$==0)bz(fC, fE);else bA(fC, fE);}
function by(fC){ const fD=fC.s;return fD!=null&&fD.$==0?u0031([fD.$0, true]):fD!=null&&fD.$==2?u0031([fD.$0, false]):null;}
function bz(fC, fD){ const fE=fC.s;if(fE!=null&&fE.$==3){ fC.s=di(fD);const fF=fE.$0;for(let fG=0, fH=c_(fF)-1;fG<=fH;fG++)(c9(fF, fG))(fD);} else void 0;}
function bA(fC, fD){ const fE=fC.s;if(fE!=null&&fE.$==3){ fC.s=dh(fD, fE.$1);const fF=fE.$0;for(let fG=0, fH=c_(fF)-1;fG<=fH;fG++)(c9(fF, fG))(fD);} else void 0;}
function bB(fC, fD){ fC.push(fD);if(fC.length%20===0){ const fE=fC.slice(0);eV(fC);for(let fG=0, fH=c_(fE)-1;fG<=fH;fG++){ const fF=c9(fE, fG);if(typeof fF=="object")(((fI) => { if(fI.s)fC.push(fI);})(fF));else(((fI) => { fC.push(fI);})(fF));} } else void 0;}
function bC(fC, fD, fE){ const fF=fD.s;const fG=fE.s;if(fF!=null&&fF.$==0)return fG!=null&&fG.$==0?{s:di(fC(fF.$0, fG.$0))}:bF(fC, fF.$0, fE);else if(fG!=null&&fG.$==0)return bG(fC, fG.$0, fD);else { const fH={s:dj([], [])};const fI=() => { const fJ=fH.s;if(!(fJ!=null&&fJ.$==0||fJ!=null&&fJ.$==2)){ const fK=by(fD);const fL=by(fE);if(fK!=null&&fK.$==1)if(fL!=null&&fL.$==1)if(fK.$0[1]&&fL.$0[1])bz(fH, fC(fK.$0[0], fL.$0[0]));else bA(fH, fC(fK.$0[0], fL.$0[0]));} };bw(fD, fI, fH);bw(fE, fI, fH);return fH;} }
function bD(fC){ const fD={s:dj([], [])};bw(fC, (fE) => { const fF=fE();bw(fF, (fG) => { let fH;const fI=fF.s;if(fI!=null&&fI.$==0){ const fJ=fC.s;fH=fJ!=null&&fJ.$==0;} else fH=false;if(fH)bz(fD, fG);else bA(fD, fG);}, fD);}, fD);return fD;}
function bE(fC, fD, fE){ const fF=fC.s;if(fF==null)fE();else fF!=null&&fF.$==2?(fF.$1.push(fE),fD(fF.$0)):fF!=null&&fF.$==3?(fF.$0.push(fD),fF.$1.push(fE)):fD(fF.$0);}
function bF(fC, fD, fE){ return bt((fF) => fC(fD, fF), fE);}
function bG(fC, fD, fE){ return bt((fF) => fC(fF, fD), fE);}
function bH(fC, fD){ const fE={s:dj([], [])};const fF=() => { const fG=fE.s;if(!(fG!=null&&fG.$==0||fG!=null&&fG.$==2)){ const fH=by(fC);const fI=by(fD);if(fH!=null&&fH.$==1)fI!=null&&fI.$==1?fH.$0[1]||fI.$0[1]?bz(fE, fI.$0[0]):bA(fE, fI.$0[0]):void 0;} };bw(fC, fF, fE);bK(fD, fF);return fE;}
function bI(fC, fD){ const fE=fC.s;if(fE==null)cg(fD);else fE!=null&&fE.$==2?bB(fE.$1, fD):fE!=null&&fE.$==3?bB(fE.$1, fD):void 0;}
function bJ(fC){ const fD=fC.s;if(fD==null)return fC;else if(fD!=null&&fD.$==2){ const fE={s:dh(fD.$0, [])};bI(fC, fE);return fE;} else if(fD!=null&&fD.$==3){ const fF={s:dj([], [])};bw(fC, (fG) => { bx(fF, fC, fG);}, fF);return fF;} else return fC;}
function bK(fC, fD){ let fE;const fF=fC.s;switch(fF!=null&&fF.$==2?(fE=fF.$0,0):fF==null?1:fF!=null&&fF.$==3?2:(fE=fF.$0,0)){ case 0:fD(fE);break;case 1:null;break;case 2:fF.$0.push(fD);break;} }
class bL { static Create(fC, fD){ return cz((fE) => { fE.setAttribute(fC, fD);});} static Concat(fC){ const fD=c1(fC);return c2(cC(), bL.Append, fD);} static A3(fC){ return fx(bL, {$:3, $0:fC});} static Append(fC, fD){ return cB(fC, fD);} static A2(fC, fD){ return fx(bL, {$:2, $0:fC, $1:fD});} static A1(fC){ return fx(bL, {$:1, $0:fC});} }
function bM(fC){ return{GetEnumerator:() => c4(fC())};}
function bN(fC, fD){ return{GetEnumerator:() => { const fE=c4(fD);return new c8(null, null, (fF) => fE.MoveNext()&&(fF.c=fC(fE.Current),true), () => { fE.Dispose();});}};}
function bO(fC, fD){ return bQ((fE) => { const fF=fC(fE);return fF==null?z.Empty:E([fF.$0]);}, fD);}
function bP(fC, fD){ return{GetEnumerator:() => { const fE=c4(fC);const fF=[true];return new c8(fE, null, (fG) => { if(fG.s.MoveNext()){ fG.c=fG.s.Current;return true;} else { const fH=fG.s;if(!b3(fH, null))fH.Dispose();fG.s=null;return fF[0]&&(fF[0]=false,fG.s=c4(fD),fG.s.MoveNext()?(fG.c=fG.s.Current,true):(fG.s.Dispose(),fG.s=null,false));} }, (fG) => { const fH=fG.s;if(!b3(fH, null))fH.Dispose();});}};}
function bQ(fC, fD){ return bS(bN(fC, fD));}
function bR(fC){ const fD=c4(fC);try { return fD.MoveNext()?fD.Current:d5();} finally { if(typeof fD=="object"&&a(fD))fD.Dispose();} }
function bS(fC){ return{GetEnumerator:() => { const fD=c4(fC);function fE(fF){ while(true){ const fG=fF.s;if(b3(fG, null)){ if(fD.MoveNext()){ fF.s=c4(fD.Current);fF=fF;} else { fD.Dispose();return false;} } else if(fG.MoveNext()){ fF.c=fG.Current;return true;} else { fF.Dispose();fF.s=null;fF=fF;} } } return new c8(null, null, fE, (fF) => { const fG=fF.s;if(!b3(fG, null))fG.Dispose();if(!b3(fD, null))fD.Dispose();});}};}
function bT(fC, fD, fE){ let fF=fD;const fG=c4(fE);try { while(fG.MoveNext())fF=fC(fF, fG.Current);return fF;} finally { if(typeof fG=="object"&&a(fG))fG.Dispose();} }
function bU(fC, fD){ return bW(fC, bX(fD));}
function bV(fC, fD){ const fE=c4(fD);try { while(fE.MoveNext())fC(fE.Current);} finally { if(typeof fE=="object"&&a(fE))fE.Dispose();} }
function bW(fC, fD){ fC<0?d7():void 0;return{GetEnumerator:() => { const fE=[c4(fD)];return new c8(0, null, (fF) => { fF.s=fF.s+1;if(fF.s>fC)return false;else { const fG=fE[0];return b3(fG, null)?d5():fG.MoveNext()?(fF.c=fG.Current,fF.s===fC?(fG.Dispose(),fE[0]=null):void 0,true):(fG.Dispose(),fE[0]=null,d5());} }, () => { const fF=fE[0];if(!b3(fF, null))fF.Dispose();});}};}
function bX(fC){ return{GetEnumerator:() => new c8(0, null, (fD) => { fD.c=fC(fD.s);fD.s=fD.s+1;return true;}, void 0)};}
function bY(fC, fD){ return!b0((fE) =>!fC(fE), fD);}
function bZ(fC){ const fD=c4(fC);try { if(!fD.MoveNext())b1();let fE=fD.Current;while(fD.MoveNext()){ const fF=fD.Current;if(b$(fF, fE)===1)fE=fF;} return fE;} finally { if(typeof fD=="object"&&a(fD))fD.Dispose();} }
function b0(fC, fD){ const fE=c4(fD);try { let fF=false;while(!fF&&fE.MoveNext())fF=fC(fE.Current);return fF;} finally { if(typeof fE=="object"&&a(fE))fE.Dispose();} }
function b1(){ return l("The input sequence was empty.");}
class b2 extends x { id;message;constructor(fC, fD){ super();this.id=fC;this.message=fD;} }
function b3(fC, fD){ if(fC===fD)return true;else { const fE=typeof fC;if(fE=="object"){ if(fC===null||fC===void 0||fD===null||fD===void 0||!b3(typeof fD, "object"))return false;else if("Equals"in fC)return fC.Equals(fD);else if("Equals"in fD)return false;else if(fC instanceof Array&&fD instanceof Array)return b4(fC, fD);else if(fC instanceof Date&&fD instanceof Date)return b5(fC, fD);else { const fF=[true];let fG;for(var fI in fC)if(((fJ) => { fF[0]=!fC.hasOwnProperty(fJ)||fD.hasOwnProperty(fJ)&&b3(fC[fJ], fD[fJ]);return!fF[0];})(fI))break;if(fF[0]){ let fH;for(var fJ in fD)if(((fK) => { fF[0]=!fD.hasOwnProperty(fK)||fC.hasOwnProperty(fK);return!fF[0];})(fJ))break;} return fF[0];} } else return fE=="function"&&("$Func"in fC?fC.$Func===fD.$Func&&fC.$Target===fD.$Target:"$Invokes"in fC&&"$Invokes"in fD&&b4(fC.$Invokes, fD.$Invokes));} }
function b4(fC, fD){ let fE;let fF;if(c_(fC)===c_(fD)){ fE=true;fF=0;while(fE&&fF<c_(fC)){!b3(c9(fC, fF), c9(fD, fF))?fE=false:void 0;fF=fF+1;} return fE;} else return false;}
function b5(fC, fD){ return fC.getTime()===fD.getTime();}
function b6(fC){ const fD=typeof fC;return fD=="function"?0:fD=="boolean"?fC?1:0:fD=="number"?fC:fD=="string"?b7(fC):fD=="object"?fC==null?0:fC instanceof Array?b8(fC):b9(fC):0;}
function b7(fC){ let fD;if(fC===null)return 0;else { fD=5381;for(let fE=0, fF=fC.length-1;fE<=fF;fE++)fD=b_(fD, fC[fE].charCodeAt());return fD;} }
function b8(fC){ let fD=-34948909;for(let fE=0, fF=c_(fC)-1;fE<=fF;fE++)fD=b_(fD, b6(c9(fC, fE)));return fD;}
function b9(fC){ if("GetHashCode"in fC)return fC.GetHashCode();else { const fD=[0];let fE;for(var fF in fC)if(((fG) => { fD[0]=b_(b_(fD[0], b7(fG)), b6(fC[fG]));return false;})(fF))break;return fD[0];} }
function b_(fC, fD){ return(fC<<5)+fC+fD;}
function b$(fC, fD){ if(fC===fD)return 0;else { const fE=typeof fC;switch(fE=="function"?1:fE=="boolean"?2:fE=="number"?2:fE=="string"?2:fE=="object"?3:0){ case 0:return typeof fD=="undefined"?0:-1;case 1:return l("Cannot compare function values.");case 2:return fC<fD?-1:1;case 3:if(fC===null)return -1;else if(fD===null)return 1;else if("CompareTo"in fC)return fC.CompareTo(fD);else if("CompareTo0"in fC)return fC.CompareTo0(fD);else if(fC instanceof Array&&fD instanceof Array)return ca(fC, fD);else if(fC instanceof Date&&fD instanceof Date)return cb(fC, fD);else { const fF=[0];let fG;for(var fI in fC)if(((fJ) =>!fC.hasOwnProperty(fJ)?false:!fD.hasOwnProperty(fJ)?(fF[0]=1,true):(fF[0]=b$(fC[fJ], fD[fJ]),fF[0]!==0))(fI))break;if(fF[0]===0){ let fH;for(var fJ in fD)if(((fK) =>!fD.hasOwnProperty(fK)?false:!fC.hasOwnProperty(fK)&&(fF[0]=-1,true))(fJ))break;} return fF[0];} break;} } }
function ca(fC, fD){ let fE;let fF;if(c_(fC)<c_(fD))return -1;else if(c_(fC)>c_(fD))return 1;else { fE=0;fF=0;while(fE===0&&fF<c_(fC)){ fE=b$(c9(fC, fF), c9(fD, fF));fF=fF+1;} return fE;} }
function cb(fC, fD){ return b$(fC.getTime(), fD.getTime());}
class cc extends x { equals;hash;count;data;set_Item(fC, fD){ this.set(fC, fD);} ContainsKey(fC){ const fD=this.data[this.hash(fC)];return fD==null?false:dF((fE) => this.equals.apply(null, [(m(fE))[0], fC]), fD);} TryGetValue(fC, fD){ const fE=this.data[this.hash(fC)];if(fE==null)return false;else { const fF=dG((fG) => { const fH=m(fG);return this.equals.apply(null, [fH[0], fC])?u0031(fH[1]):null;}, fE);return fF!=null&&fF.$==1&&(fD.set(fF.$0),true);} } RemoveKey(fC){ return this.remove(fC);} get Keys(){ return new d8(this);} set(fC, fD){ const fE=this.hash(fC);const fF=this.data[fE];if(fF==null){ this.count=this.count+1;this.data[fE]=new Array({K:fC, V:fD});} else { const fG=dH((fH) => this.equals.apply(null, [(m(fH))[0], fC]), fF);if(fG==null){ this.count=this.count+1;fF.push({K:fC, V:fD});} else fF[fG.$0]={K:fC, V:fD};} } remove(fC){ const fD=this.hash(fC);const fE=this.data[fD];if(fE==null)return false;else { const fF=dI((fG) =>!this.equals.apply(null, [(m(fG))[0], fC]), fE);return c_(fF)<fE.length&&(this.count=this.count-1,this.data[fD]=fF,true);} } Item(fC){ return this.get(fC);} get(fC){ const fD=this.data[this.hash(fC)];return fD==null?dV():dM((fE) => { const fF=m(fE);return this.equals.apply(null, [fF[0], fC])?u0031(fF[1]):null;}, fD);} GetEnumerator(){ return c7(dN(J(this.data)));} static New_5(){ return new this("New_5");} static New_6(fC, fD, fE){ return new this("New_6", fC, fD, fE);} constructor(fC, fD, fE, fF){ if(fC=="New_5"){ fC="New_6";fD=[];fE=b3;fF=b6;} if(fC=="New_6"){ const fG=fD;const fH=fE;const fI=fF;super();this.equals=fH;this.hash=fI;this.count=0;this.data=[];const fJ=c4(fG);try { while(fJ.MoveNext()){ const fK=fJ.Current;this.set(fK.K, fK.V);} } finally { if(typeof fJ=="object"&&a(fJ))fJ.Dispose();} } } }
function cd(){(ce())[0]++;return"Form"+String((ce())[0]);}
function ce(){ return eg.lastId;}
class cf extends y { isConst;current;snap;view;id;Get(){ return this.current;} Set(fC){ if(this.isConst)(((fD) => fD("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fD) => { console.log(fD);}));else { cg(this.snap);this.current=fC;this.snap={s:dh(fC, [])};} } get View(){ return this.view;} get Id(){ return"uinref"+String(this.id);} UpdateMaybe(fC){ const fD=fC(this.Get());if(fD!=null&&fD.$==1)this.Set(fD.$0);} constructor(fC, fD, fE){ super();this.isConst=fC;this.current=fE;this.snap=fD;this.view=() => this.snap;this.id=de();} }
function cg(fC){ let fD;const fE=fC.s;if(fE==null||(fE!=null&&fE.$==2?(fD=fE.$1,false):fE!=null&&fE.$==3?(fD=fE.$1,false):true))void 0;else { fC.s=null;for(let fG=0, fH=c_(fD)-1;fG<=fH;fG++){ const fF=c9(fD, fG);if(typeof fF=="object")(((fI) => { cg(fI);})(fF));else fF();} } }
function ch(){ return{Current:null, Dirty:false};}
function ci(fC, fD){ fC.Current=fD;fC.Dirty=true;}
function cj(fC, fD){ ck(fC, fD, null);}
function ck(fC, fD, fE){ while(true){ if(fD!=null&&fD.$==1)return cp(fC, fD.$0.El, fE);else if(fD!=null&&fD.$==2){ const fF=fD.$0;fF.Dirty=false;fD=fF.Current;} else if(fD==null)return fE;else if(fD!=null&&fD.$==4)return cp(fC, fD.$0.Text, fE);else if(fD!=null&&fD.$==5)return cp(fC, fD.$0, fE);else if(fD!=null&&fD.$==6)return dL((fI, fJ) =>((((fK) =>(fL) =>(fM) => fL==null||fL.constructor===Object?ck(fK, fL, fM):cp(fK, fL, fM))(fC))(fI))(fJ), fD.$0.Els, fE);else { const fG=fD.$1;const fH=fD.$0;fD=fH;fE=ck(fC, fG, fE);} } }
function cl(fC, fD){ return es(et(), co(fC, cC(), fD));}
function cm(fC, fD, fE){ if(d9()){ const fF=null;return eA(() => { const fG=eu(fE);const fH=ct(fD, fG);const fI=cs(fD, fG);return eB(d_(d$(fH, cr(fD, fG))), () => eB(cq(fC, fD), () => eB(d_(fI), () => { fD.PreviousNodes=fG;return eE(null);})));});} else return cq(fC, fD);}
function cn(fC, fD, fE){ const fF=eu(fE);cu(fC, fD.Top);fD.PreviousNodes=fF;}
function co(fC, fD, fE){ cj(fC, fE);const fF=cE(fC, fD);return dk.New(fF, fE, null, fC, de(), fz(fF.OnAfterRender));}
function cp(fC, fD, fE){ cW(fC, fE, fD);return fD;}
function cq(fC, fD){ if(ee()){ const fE=(fF) => { requestAnimationFrame(() => { cu(fC, fD.Top);fF();});};return eJ((fF, fG, fH) => fE.apply(null, [fF, fG, fH]));} else { cu(fC, fD.Top);return eE(null);} }
function cr(fC, fD){ return ec(dJ((fE) => cI(fE.Attr), ey(ex(fD, ew((fE) => cH(fE.Attr), fC.PreviousNodes)))));}
function cs(fC, fD){ return ec(dJ((fE) => cK(fE.Attr), ey(ex(fC.PreviousNodes, ew((fE) => cJ(fE.Attr), fD)))));}
function ct(fC, fD){ const fE=(fG) => cL(fG.Attr);const fF=(fG) => ew(fE, fG);return ec(dJ((fG) => cM(fG.Attr), ey(ez(fF(fC.PreviousNodes), fF(fD)))));}
function cu(fC, fD){!fC?cv(fD):void 0;cw(fD.Children);cx(fD);}
function cv(fC){ function fD(fE){ function fF(fG){ while(true){ if(fG!=null&&fG.$==0){ const fH=fG.$1;const fI=fG.$0;if(fF(fI))return true;else fG=fH;} else if(fG!=null&&fG.$==2){ const fJ=fG.$0;if(fJ.Dirty)return true;else fG=fJ.Current;} else if(fG!=null&&fG.$==6){ const fK=fG.$0;return fK.Dirty||dF(fD, fK.Holes);} else return false;} } return fF(fE.Children);} cO(fC.El, fC.Attr);if(fD(fC))cy(fC);}
function cw(fC){ while(true){ if(fC!=null&&fC.$==1)return cu(false, fC.$0);else if(fC!=null&&fC.$==2){ const fD=fC.$0;fC=fD.Current;} else if(fC==null)return null;else if(fC!=null&&fC.$==5)return null;else if(fC!=null&&fC.$==4){ const fE=fC.$0;return fE.Dirty?(fE.Text.nodeValue=fE.Value,fE.Dirty=false):null;} else if(fC!=null&&fC.$==6){ const fF=fC.$0;dK((fI) => { cu(false, fI);}, fF.Holes);dK((fI) => { cO(fI[0], fI[1]);}, fF.Attrs);return cx(fF);} else { const fG=fC.$1;const fH=fC.$0;cw(fH);fC=fG;} } }
function cx(fC){ const fD=fz(fC.Render);if(fD!=null&&fD.$==1){ fD.$0(fC.El);fA(fC, "Render", null);} }
function cy(fC){ const fD=fC.El;function fE(fI, fJ){ while(true){ if(fI!=null&&fI.$==1)return fI.$0.El;else if(fI!=null&&fI.$==2){ const fK=fI.$0;if(fK.Dirty){ fK.Dirty=false;return ck(fD, fK.Current, fJ);} else fI=fK.Current;} else if(fI==null)return fJ;else if(fI!=null&&fI.$==4)return fI.$0.Text;else if(fI!=null&&fI.$==5)return fI.$0;else if(fI!=null&&fI.$==6){ const fL=fI.$0;if(fL.Dirty)fL.Dirty=false;return dL((fO, fP) => fO==null||fO.constructor===Object?fE(fO, fP):fO, fL.Els, fJ);} else { const fM=fI.$1;const fN=fI.$0;fI=fN;fJ=fE(fM, fJ);} } } const fF=fC.El;fn((fI) => { cX(fF, fI);}, fm(fo(fC), fl(fC.El, fz(fC.Delimiters))));let fG=fC.Children;const fH=fz(fC.Delimiters);fE(fG, fH!=null&&fH.$==1?fH.$0[1]:null);}
function cz(fC){ return bL.A3(fC);}
function cA(fC){ return c3((fD) => fD.NChanged, R(), P, fC.DynNodes);}
function cB(fC, fD){ if(fC===null)return fD;else if(fD===null)return fC;else { const fE=bL.A2(fC, fD);cF(fE, cG(fC)|cG(fD));return fE;} }
function cC(){ return ei.EmptyAttr;}
function cD(fC, fD){ return bL.A1(new e5(fC, fD));}
function cE(fC, fD){ const fE=[];const fF=[];function fG(fJ){ while(true){ if(!(fJ===null)){ if(fJ!=null&&fJ.$==1)return fE.push(fJ.$0);else if(fJ!=null&&fJ.$==2){ const fK=fJ.$1;const fL=fJ.$0;fG(fL);fJ=fK;} else return fJ!=null&&fJ.$==3?fJ.$0(fC):fJ!=null&&fJ.$==4?fF.push(fJ.$0):null;} else return null;} } fG(fD);const fH=fE.slice(0);let fI=eh(fC, cG(fD), fH, fF.length===0?null:u0031((fJ) => { bV((fK) => { fK(fJ);}, fF);}));return fI;}
function cF(fC, fD){ fC.flags=fD;}
function cG(fC){ return fC!==null&&fC.hasOwnProperty("flags")?fC.flags:0;}
function cH(fC){ const fD=2;return(fC.DynFlags&fD)===fD;}
function cI(fC){ return cN(fC, (fD, fE) => fD.NGetExitAnim(fE));}
function cJ(fC){ const fD=1;return(fC.DynFlags&fD)===fD;}
function cK(fC){ return cN(fC, (fD, fE) => fD.NGetEnterAnim(fE));}
function cL(fC){ const fD=4;return(fC.DynFlags&fD)===fD;}
function cM(fC){ return cN(fC, (fD, fE) => fD.NGetChangeAnim(fE));}
function cN(fC, fD){ return ec(dJ((fE) => fD(fE, fC.DynElem), fC.DynNodes));}
function cO(fC, fD){ dK((fE) => { fE.NSync(fC);}, fD.DynNodes);}
function cP(fC){ const fD=globalThis.document.createElement("div");if(!cQ().test(fC)){ fD.appendChild(globalThis.document.createTextNode(fC));return fD;} else { const fE=cU().exec(fC);const fF=b3(fE, null)?"":c9(fE, 1).toLowerCase();const fG=(cR())[fF];const fH=fG?fG:cS();fD.innerHTML=fH[1]+fC.replace(cT(), "<$1></$2>")+fH[2];function fI(fJ, fK){ while(true){ if(fK===0)return fJ;else { const fL=fK;fJ=fJ.lastChild;fK=fL-1;} } } return fI(fD, fH[0]);} }
function cQ(){ return eY.rhtml;}
function cR(){ return eY.wrapMap;}
function cS(){ return eY.defaultWrap;}
function cT(){ return eY.rxhtmlTag;}
function cU(){ return eY.rtagName;}
function cV(fC, fD, fE){ const fF=fC.querySelectorAll(fD);for(let fG=0, fH=fF.length-1;fG<=fH;fG++)fE(fF[fG]);}
function cW(fC, fD, fE){ let fF;if(fE.parentNode===fC){ const fG=fE.nextSibling;let fH=b3(fG, null)?null:fG;fF=fD===fH;} else fF=false;if(!fF)fC.insertBefore(fE, fD);}
function cX(fC, fD){ if(fD.parentNode===fC)fC.removeChild(fD);}
function cY(fC){ return cZ(dl(), fC);}
function cZ(fC, fD){ const fE=fC(fD);return bL.Append(cz(fE[0]), c0(fE[1], fE[2]));}
function c0(fC, fD){ return cD(fD, fC);}
function c1(fC){ if(fC instanceof Array)return fC;else if(fC instanceof z)return dE(fC);else if(fC===null)return[];else { const fD=[];const fE=c4(fC);try { while(fE.MoveNext())fD.push(fE.Current);return fD;} finally { if(typeof fE=="object"&&a(fE))fE.Dispose();} } }
function c2(fC, fD, fE){ const fF=c_(fE);function fG(fH){ return(fI) => { let fJ;switch(fI<=0?0:fI===1?fH>=0&&fH<fF?1:(fJ=fI,2):(fJ=fI,2)){ case 0:return fC;case 1:return c9(fE, fH);case 2:const fK=fI/2>>0;return fD((fG(fH))(fK), (fG(fH+fK))(fI-fK));} };} return(fG(0))(fF);}
function c3(fC, fD, fE, fF){ const fG=c_(fF);function fH(fI){ return(fJ) => { let fK;switch(fJ<=0?0:fJ===1?fI>=0&&fI<fG?1:(fK=fJ,2):(fK=fJ,2)){ case 0:return fD;case 1:return fC(c9(fF, fI));case 2:const fL=fJ/2>>0;return fE((fH(fI))(fL), (fH(fI+fL))(fJ-fL));} };} return(fH(0))(fG);}
function c4(fC){ return fC instanceof Array?c5(fC):b3(typeof fC, "string")?c6(fC):fC.GetEnumerator();}
function c5(fC){ return new c8(0, null, (fD) => { const fE=fD.s;return fE<c_(fC)&&(fD.c=c9(fC, fE),fD.s=fE+1,true);}, void 0);}
function c6(fC){ return new c8(0, null, (fD) => { const fE=fD.s;return fE<fC.length&&(fD.c=fC[fE],fD.s=fE+1,true);}, void 0);}
function c7(fC){ return fC instanceof Array?c5(fC):b3(typeof fC, "string")?c6(fC):"GetEnumerator0"in fC?fC.GetEnumerator0():fC.GetEnumerator();}
class c8 extends x { s;c;n;d;e;Dispose(){ if(this.d)this.d(this);} MoveNext(){ const fC=this.n(this);this.e=fC?1:2;return fC;} get Current(){ return this.e===1?this.c:this.e===0?l("Enumeration has not started. Call MoveNext."):l("Enumeration already finished.");} constructor(fC, fD, fE, fF){ super();this.s=fC;this.c=fD;this.n=fE;this.d=fF;this.e=0;} }
function c9(fC, fD){ c$(fC, fD);return fC[fD];}
function c_(fC){ return fC.dims===2?fC.length*fC.length:fC.length;}
function c$(fC, fD){ if(fD<0||fD>=fC.length)l("Index was outside the bounds of the array.");}
function da(fC, fD, fE){ c$(fC, fD);fC[fD]=fE;}
let db=fy((fC) => class fD { static { db=fC(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new cc("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new cc("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
class dc extends x { equals;hash;data;count;SAdd(fC){ return this.add(fC);} Contains(fC){ const fD=this.data[this.hash(fC)];return fD==null?false:this.arrContains(fC, fD);} add(fC){ const fD=this.hash(fC);const fE=this.data[fD];return fE==null?(this.data[fD]=[fC],this.count=this.count+1,true):this.arrContains(fC, fE)?false:(fE.push(fC),this.count=this.count+1,true);} arrContains(fC, fD){ let fE=true;let fF=0;const fG=fD.length;while(fE&&fF<fG)if(this.equals.apply(null, [fD[fF], fC]))fE=false;else fF=fF+1;return!fE;} GetEnumerator(){ return c4(e4(this.data));} ExceptWith(fC){ const fD=c4(fC);try { while(fD.MoveNext())this.Remove(fD.Current);} finally { if(typeof fD=="object"&&a(fD))fD.Dispose();} } get Count(){ return this.count;} IntersectWith(fC){ const fD=new dc("New_4", fC, this.equals, this.hash);const fE=e4(this.data);for(let fG=0, fH=fE.length-1;fG<=fH;fG++){ const fF=fE[fG];if(!fD.Contains(fF))this.Remove(fF);} } Remove(fC){ const fD=this.data[this.hash(fC)];return fD==null?false:this.arrRemove(fC, fD)&&(this.count=this.count-1,true);} CopyTo(fC, fD){ const fE=e4(this.data);for(let fF=0, fG=fE.length-1;fF<=fG;fF++)da(fC, fF+fD, fE[fF]);} arrRemove(fC, fD){ let fE=true;let fF=0;const fG=fD.length;while(fE&&fF<fG)if(this.equals.apply(null, [fD[fF], fC])){ fD.splice(fF, 1);fE=false;} else fF=fF+1;return!fE;} static New_3(){ return new this("New_3");} static New_4(fC, fD, fE){ return new this("New_4", fC, fD, fE);} static New_2(fC){ return new this("New_2", fC);} constructor(fC, fD, fE, fF){ if(fC=="New_3"){ fC="New_4";fD=[];fE=b3;fF=b6;} let fG;if(fC=="New_2"){ fG=fD;fC="New_4";fD=fG;fE=b3;fF=b6;} if(fC=="New_4"){ const fH=fD;const fI=fE;const fJ=fF;super();this.equals=fI;this.hash=fJ;this.data=[];this.count=0;const fK=c4(fH);try { while(fK.MoveNext())this.add(fK.Current);} finally { if(typeof fK=="object"&&a(fK))fK.Dispose();} } } }
class dd extends x { }
function de(){ df(dg()+1);return dg();}
function df(fC){ eU.counter=fC;}
function dg(){ return eU.counter;}
function dh(fC, fD){ return{$:2, $0:fC, $1:fD};}
function di(fC){ return{$:0, $0:fC};}
function dj(fC, fD){ return{$:3, $0:fC, $1:fD};}
class dk { Attr;Children;Delimiters;El;ElKey;Render;Equals(fC){ return this.ElKey===fC.ElKey;} GetHashCode(){ return this.ElKey;} static New(fC, fD, fE, fF, fG, fH){ const fI={Attr:fC, Children:fD, El:fF, ElKey:fG};let fJ=(fA(fI, "Delimiters", fE),fA(fI, "Render", fH),fI);return fx(dk, fJ);} }
function dl(){ return ei.StringApply;}
function dm(fC, fD, fE){ let fF;fF=null;return[(fG) => { const fH=() => { fE.UpdateMaybe((fI) => { let fJ;fF=fC(fG);return fF!=null&&fF.$==1&&(!b3(fF.$0, fI)&&(fJ=[fF, fF.$0],true))?fJ[0]:null;});};fG.addEventListener("change", fH);fG.addEventListener("input", fH);fG.addEventListener("keypress", fH);}, (fG) => { const fH=fD(fG);return(fI) => fI==null?null:fH(fI.$0);}, O((fG) => { let fH;return fF!=null&&fF.$==1&&(b3(fF.$0, fG)&&(fH=fF.$0,true))?null:u0031(fG);}, fE.View)];}
function dn(){ return ei.StringSet;}
function do_1(){ return ei.StringGet;}
function dp(){ return ei.StringListSet;}
function dq(){ return ei.StringListGet;}
function dr(){ return ei.DateTimeSetUnchecked;}
function ds(){ return ei.DateTimeGetUnchecked;}
function dt(fC, fD, fE){ let fF;fF=null;return[(fG) => { fG.addEventListener("change", () => { fE.UpdateMaybe((fH) => { let fI;fF=fC(fG);return fF!=null&&fF.$==1&&(fF.$0!==fH&&(fI=[fF, fF.$0],true))?fI[0]:null;});});}, (fG) => { const fH=fD(fG);return(fI) => fI==null?null:fH(fI.$0);}, O((fG) => { let fH;return fF!=null&&fF.$==1&&(b3(fF.$0, fG)&&(fH=fF.$0,true))?null:u0031(fG);}, fE.View)];}
function du(){ return ei.FileSetUnchecked;}
function dv(){ return ei.FileGetUnchecked;}
function dw(){ return ei.IntSetUnchecked;}
function dx(){ return ei.IntGetUnchecked;}
function dy(){ return ei.IntSetChecked;}
function dz(){ return ei.IntGetChecked;}
function dA(){ return ei.FloatSetUnchecked;}
function dB(){ return ei.FloatGetUnchecked;}
function dC(){ return ei.FloatSetChecked;}
function dD(){ return ei.FloatGetChecked;}
function dE(fC){ const fD=[];let fE=fC;while(!(fE.$==0)){ fD.push(G(fE));fE=H(fE);} return fD;}
function dF(fC, fD){ let fE=false;let fF=0;while(!fE&&fF<c_(fD))if(fC(fD[fF]))fE=true;else fF=fF+1;return fE;}
function dG(fC, fD){ let fE=null;let fF=0;while(fF<fD.length&&fE==null){ const fG=fC(fD[fF]);if(fG!=null&&fG.$==1)fE=fG;fF=fF+1;} return fE;}
function dH(fC, fD){ let fE=null;let fF=0;while(fF<fD.length&&fE==null){ fC(fD[fF])?fE=u0031(fF):void 0;fF=fF+1;} return fE;}
function dI(fC, fD){ const fE=[];for(let fF=0, fG=fD.length-1;fF<=fG;fF++)if(fC(fD[fF]))fE.push(fD[fF]);return fE;}
function dJ(fC, fD){ const fE=new Array(fD.length);for(let fF=0, fG=fD.length-1;fF<=fG;fF++)fE[fF]=fC(fD[fF]);return fE;}
function dK(fC, fD){ for(let fE=0, fF=fD.length-1;fE<=fF;fE++)fC(fD[fE]);}
function dL(fC, fD, fE){ let fF=fE;const fG=fD.length;for(let fH=1, fI=fG;fH<=fI;fH++)fF=fC(fD[fG-fH], fF);return fF;}
function dM(fC, fD){ const fE=dG(fC, fD);return fE==null?l("KeyNotFoundException"):fE.$0;}
function dN(fC){ return Array.prototype.concat.apply([], dO(fC));}
function dO(fC){ if(fC instanceof Array)return fC.slice();else if(fC instanceof z)return dE(fC);else { const fD=[];const fE=c4(fC);try { while(fE.MoveNext())fD.push(fE.Current);return fD;} finally { if(typeof fE=="object"&&a(fE))fE.Dispose();} } }
function dP(fC, fD){ const fE=[];for(let fG=0, fH=fD.length-1;fG<=fH;fG++){ const fF=fC(fD[fG]);if(fF==null){ } else fE.push(fF.$0);} return fE;}
function dQ(fC, fD){ const fE=new Array(fC);for(let fF=0, fG=fC-1;fF<=fG;fF++)fE[fF]=fD;return fE;}
function dR(fC, fD){ if(fC<0)l("Negative size given.");else null;const fE=new Array(fC);for(let fF=0, fG=fC-1;fF<=fG;fF++)fE[fF]=fD(fF);return fE;}
function dS(fC, fD){ let fE=true;let fF=0;while(fE&&fF<c_(fD))if(fC(fD[fF]))fF=fF+1;else fE=false;return fE;}
class dT extends N { docNode_1;updates_1;elt;rvUpdates;static New(fC, fD, fE){ const fF=co(fC, fD, fE.docNode);const fG=ej.Create(fE.updates);return new dT(bs(fF), P(cA(fF.Attr), fG.v), fC, fG);} constructor(fC, fD, fE, fF){ super(fC, fD);this.docNode_1=fC;this.updates_1=fD;this.elt=fE;this.rvUpdates=fF;} }
class dU extends x { }
function dV(){ throw new e9("New");}
function dW(fC){ let fD=null;let fE=0;const fF=fC.textContent;const fG=new RegExp(bd(), "g");while(fD=fG.exec(fF),fD!==null){ fC.parentNode.insertBefore(globalThis.document.createTextNode(d4(fF, u0031(fE), u0031(fG.lastIndex-c9(fD, 0).length-1))), fC);fE=fG.lastIndex;const fH=globalThis.document.createElement("span");fH.setAttribute("ws-replace", c9(fD, 1).toLowerCase());fC.parentNode.insertBefore(fH, fC);} fG.lastIndex=0;fC.textContent=d4(fF, u0031(fE), null);}
function dX(fC){ console.warn("Instantiating non-loaded template", fC);}
function dY(fC, fD, fE){ const fF=fC.querySelector("[ws-replace]");return b3(fF, null)?(console.warn("Filling non-existent text hole", fE),null):(fF.parentNode.replaceChild(globalThis.document.createTextNode(fD), fF),u0031(fF.getAttribute("ws-replace")));}
function dZ(fC, fD){ const fE=(fF) => { bb(fC, "["+fF+"]", (fG) => { if(!fD.Contains(fG.getAttribute(fF)))fG.removeAttribute(fF);});};fE("ws-attr");fE("ws-onafterrender");fE("ws-var");bb(fC, "[ws-hole]", (fF) => { if(!fD.Contains(fF.getAttribute("ws-hole"))){ fF.removeAttribute("ws-hole");while(fF.hasChildNodes())fF.removeChild(fF.lastChild);} });bb(fC, "[ws-replace]", (fF) => { if(!fD.Contains(fF.getAttribute("ws-replace")))fF.parentNode.removeChild(fF);});bb(fC, "[ws-on]", (fF) => { fF.setAttribute("ws-on", ek(" ", dI((fG) => fD.Contains(c9(el(fG, [":"], 1), 1)), el(fF.getAttribute("ws-on"), [" "], 1))));});bb(fC, "[ws-attr-holes]", (fF) => { const fG=el(fF.getAttribute("ws-attr-holes"), [" "], 1);for(let fK=0, fL=fG.length-1;fK<=fL;fK++){ const fH=c9(fG, fK);let fI=new RegExp(bd(), "g");let fJ=fF.getAttribute(fH).replace(fI, (fM, fN) => fD.Contains(fN)?fM:"");fF.setAttribute(fH, fJ);} });}
function d0(fC, fD){ d3(fD);const fE=fD.nodeName.toLowerCase();const fF=fC.querySelector("[ws-attr="+fE+"]");if(b3(fF, null))console.warn("Filling non-existent attr hole", fE);else { fF.removeAttribute("ws-attr");for(let fH=0, fI=fD.attributes.length-1;fH<=fI;fH++){ const fG=fD.attributes.item(fH);if(fG.name=="class"&&fF.hasAttribute("class"))fF.setAttribute("class", fF.getAttribute("class")+" "+fG.nodeValue);else fF.setAttribute(fG.name, fG.nodeValue);} } }
function d1(fC, fD){ const fE=(fF) => { bb(fC, "["+fF+"]", (fG) => { let fH;const fI=(fH=null,[fD.TryGetValue(fG.getAttribute(fF).toLowerCase(), {get:() => fH, set:(fJ) => { fH=fJ;}}), fH]);if(fI[0])fG.setAttribute(fF, fI[1]);});};fE("ws-hole");fE("ws-replace");fE("ws-attr");fE("ws-onafterrender");fE("ws-var");bb(fC, "[ws-on]", (fF) => { fF.setAttribute("ws-on", ek(" ", dJ((fG) => { let fH;const fI=el(fG, [":"], 1);const fJ=(fH=null,[fD.TryGetValue(c9(fI, 1), {get:() => fH, set:(fK) => { fH=fK;}}), fH]);return fJ[0]?c9(fI, 0)+":"+fJ[1]:fG;}, el(fF.getAttribute("ws-on"), [" "], 1))));});bb(fC, "[ws-attr-holes]", (fF) => { const fG=el(fF.getAttribute("ws-attr-holes"), [" "], 1);for(let fH=0, fI=fG.length-1;fH<=fI;fH++)((() => { const fJ=c9(fG, fH);return fF.setAttribute(fJ, bT((fK, fL) => { const fM=m(fL);return fK.replace(new RegExp("\\${"+fM[0]+"}", "ig"), "${"+fM[1]+"}");}, fF.getAttribute(fJ), fD));})());});}
function d2(fC, fD, fE){ while(true){ if(fC.hasChildNodes())fE=fD.insertBefore(fC.lastChild, fE);else return null;} }
function d3(fC){ const fD=fC.attributes;const fE=[];const fF=[];const fG=[];for(let fL=0, fM=fD.length-1;fL<=fM;fL++){ const fH=fD.item(fL);if(em(fH.nodeName, "ws-on")&&fH.nodeName!="ws-onafterrender"&&fH.nodeName!="ws-on"){ fE.push(fH.nodeName);fF.push(d4(fH.nodeName, u0031("ws-on".length), null)+":"+fH.nodeValue.toLowerCase());} else if(!em(fH.nodeName, "ws-")&&(new RegExp(bd())).test(fH.nodeValue)){ let fI=new RegExp(bd(), "g");let fJ=fH.nodeValue.replace(fI, (fN, fO) =>"${"+fO.toLowerCase()+"}");fH.nodeValue=fJ;fG.push(fH.nodeName);} else void 0;} if(!(fF.length==0))fC.setAttribute("ws-on", ek(" ", fF));if(!(fG.length==0))fC.setAttribute("ws-attr-holes", ek(" ", fG));const fK=(fN) => { const fO=fC.getAttribute(fN);if(fO==null){ } else fC.setAttribute(fN, fO.toLowerCase());};fK("ws-hole");fK("ws-replace");fK("ws-attr");fK("ws-onafterrender");fK("ws-var");dK((fN) => { fC.removeAttribute(fN);}, fE);}
function d4(fC, fD, fE){ if(fD==null){ if(fE!=null&&fE.$==1){ const fF=fE.$0;return fF<0?"":fC.slice(0, fF+1);} else return"";} else if(fE==null)return fC.slice(fD.$0);else { const fG=fE.$0;return fG<0?"":fC.slice(fD.$0, fG+1);} }
function d5(){ return l("The input sequence has an insufficient number of elements.");}
function d6(fC, fD){ let fE=true;let fF=0;while(fE&&fF<c_(fD))if(b3(fD[fF], fC))fE=false;else fF=fF+1;return!fE;}
function d7(){ return l("The input must be non-negative.");}
class d8 extends x { d;GetEnumerator(){ return c4(bN((fC) => fC.K, this.d));} constructor(fC){ super();this.d=fC;} }
function d9(){ return eL();}
function d_(fC){ const fD=null;return eA(() => eB(ea(() => { }, eM(fC)), () => { eN(fC);return eE(null);}));}
function d$(fC, fD){ return eb(e0(fC.$0, fD.$0));}
function ea(fC, fD){ const fE=fD.Duration;if(fE===0)return eC();else { const fF=(fG) => { function fH(fI){ return(fJ) => { const fK=fJ-fI;fD.Compute(fK);fC();return fK<=fE?void requestAnimationFrame((fL) => {(fH(fI))(fL);}):fG();};} requestAnimationFrame((fI) => {(fH(fI))(fI);});};return eJ((fG, fH, fI) => fF.apply(null, [fG, fH, fI]));} }
function eb(fC){ return{$:0, $0:fC};}
function ec(fC){ return eb(e2(bN(eP, fC)));}
function ed(){ return eb(e3());}
function ee(){ return eT.BatchUpdatesEnabled;}
function ef(fC){ const fD=[0];function fE(){ const fF=null;return eA(() => eB(fC, () => { const fG=fD[0];return b3(fG, 1)?(fD[0]=0,eC()):b3(fG, 2)?(fD[0]=1,fE()):eC();}));} return() => { const fF=fD[0];if(b3(fF, 0)){ fD[0]=1;eD(fE(), null);} else b3(fF, 1)?fD[0]=2:void 0;};}
let eg=fy((fC) => class fD { static { eg=fC(this);} static Int;static lastId;static { this.lastId=[0];const fE=[0];this.Int=() => { fE[0]++;return fE[0];};} });
function eh(fC, fD, fE, fF){ const fG={DynElem:fC, DynFlags:fD, DynNodes:fE};fA(fG, "OnAfterRender", fF);return fG;}
let ei=fy((fC) => class fD { static { ei=fC(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(fU) =>[(fV) => { fV.addEventListener("change", () => fU.Get()!=fV.checked?fU.Set(fV.checked):null);}, (fV) =>(fW) => fW!=null&&fW.$==1?void(fV.checked=fW.$0):null, O(u0031, fU.View)];this.StringSet=(fU) =>(fV) => { fU.value=fV;};this.StringGet=(fU) => u0031(fU.value);const fE=do_1();const fF=dn();this.StringApply=(fU) => dm(fE, fF, fU);this.StringListSet=(fU) =>(fV) => { const fW=fU.options;for(let fX=0, fY=fW.length-1;fX<=fY;fX++)((() => { const fZ=fW.item(fX);fZ.selected=d6(fZ.value, fV);})());};this.StringListGet=(fU) => { const fV=fU.selectedOptions;return u0031(dO(bM(() => bQ((fW) =>[fV.item(fW).value], n(0, fV.length-1)))));};const fG=dq();const fH=dp();this.StringListApply=(fU) => dm(fG, fH, fU);this.DateTimeSetUnchecked=(fU) =>(fV) => { fU.value=(new Date(fV)).toLocaleString();};this.DateTimeGetUnchecked=(fU) => { let fV;let fW;const fX=fU.value;if(eW(fX))return u0031(-8640000000000000);else { fV=0;const fY=e7(fX);let fZ=fY!=null&&fY.$==1&&(fV=fY.$0,true);fW=[fZ, fV];return fW[0]?u0031(fW[1]):null;} };const fI=ds();const fJ=dr();this.DateTimeApplyUnchecked=(fU) => dm(fI, fJ, fU);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(fU) => { const fV=fU.files;return u0031(dO(bM(() => bN((fW) => fV.item(fW), n(0, fV.length-1)))));};const fK=dv();const fL=du();this.FileApplyUnchecked=(fU) => dt(fK, fL, fU);this.IntSetUnchecked=(fU) =>(fV) => { fU.value=String(fV);};this.IntGetUnchecked=(fU) => { const fV=fU.value;if(eW(fV))return u0031(0);else { const fW=+fV;return fW!==fW>>0?null:u0031(fW);} };const fM=dx();const fN=dw();this.IntApplyUnchecked=(fU) => dm(fM, fN, fU);this.IntSetChecked=(fU) =>(fV) => { const fW=fV.Input;return fU.value!=fW?void(fU.value=fW):null;};this.IntGetChecked=(fU) => { let fV;let fW;const fX=fU.value;if(eW(fX))fV=(fU.checkValidity?fU.checkValidity():true)?eX.Blank(fX):eX.Invalid(fX);else { const fY=(fW=0,[bk(fX, {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);fV=fY[0]?eX.Valid(fY[1], fX):eX.Invalid(fX);} return u0031(fV);};const fO=dz();const fP=dy();this.IntApplyChecked=(fU) => dm(fO, fP, fU);this.FloatSetUnchecked=(fU) =>(fV) => { fU.value=String(fV);};this.FloatGetUnchecked=(fU) => { const fV=fU.value;if(eW(fV))return u0031(0);else { const fW=+fV;return isNaN(fW)?null:u0031(fW);} };const fQ=dB();const fR=dA();this.FloatApplyUnchecked=(fU) => dm(fQ, fR, fU);this.FloatSetChecked=(fU) =>(fV) => { const fW=fV.Input;return fU.value!=fW?void(fU.value=fW):null;};this.FloatGetChecked=(fU) => { let fV;const fW=fU.value;if(eW(fW))fV=(fU.checkValidity?fU.checkValidity():true)?eX.Blank(fW):eX.Invalid(fW);else { const fX=+fW;fV=isNaN(fX)?eX.Invalid(fW):eX.Valid(fX, fW);} return u0031(fV);};const fS=dD();const fT=dC();this.FloatApplyChecked=(fU) => dm(fS, fT, fU);} });
class ej { c;s;v;static Create(fC){ let fD;fD=null;fD=ej.New(fC, null, () => { let fE;fE=fD.s;return fE===null?(fE=bJ(fD.c()),fD.s=fE,bv(fE, () => { fD.s=null;}),fE):fE;});return fD;} static New(fC, fD, fE){ return fx(ej, {c:fC, s:fD, v:fE});} }
function ek(fC, fD){ return dO(fD).join(fC);}
function el(fC, fD, fE){ return en(fC, new RegExp("["+eo(fD.join(""))+"]"), fE);}
function em(fC, fD){ return fC.substring(0, fD.length)==fD;}
function en(fC, fD, fE){ return fE===1?dI((fF) => fF!=="", eq(fC, fD)):eq(fC, fD);}
function eo(fC){ return fC.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function ep(fC, fD){ return bY(fC, er(fD));}
function eq(fC, fD){ return fC.split(fD);}
function er(fC){ return fC==null?"":fC;}
function es(fC, fD){ return{PreviousNodes:fC, Top:fD};}
function et(){ return ev(new dc("New_3"));}
function eu(fC){ const fD=[];function fE(fH, fI){ while(true)switch(fH){ case 0:if(fI!=null&&fI.$==0){ const fJ=fI.$1;const fK=fI.$0;fE(0, fK);fI=fJ;} else if(fI!=null&&fI.$==1){ const fL=fI.$0;fI=fL;fH=1;} else if(fI!=null&&fI.$==2){ const fM=fI.$0;fI=fM.Current;} else if(fI!=null&&fI.$==6){ const fN=fI.$0.Holes;return(((fO) =>(fP) => { dK(fO, fP);})(fG))(fN);} else return null;break;case 1:fD.push(fI);fI=fI.Children;fH=0;break;} } function fF(fH){ return fE(0, fH);} function fG(fH){ return fE(1, fH);} fF(fC);return ev(new dc("New_2", fD));}
function ev(fC){ return{$:0, $0:fC};}
function ew(fC, fD){ return ev(fg(fC, fD.$0));}
function ex(fC, fD){ return ev(fh(fC.$0, fD.$0));}
function ey(fC){ return fi(fC.$0);}
function ez(fC, fD){ return ev(fj(fC.$0, fD.$0));}
function eA(fC){ return(fD) => { try {(fC())(fD);} catch(fE){ fD.k(fb(fE));} };}
function eB(fC, fD){ return eG((fE) => { fC(fa((fF) => { if(fF.$==0){ const fG=fF.$0;eF().Fork(() => { try {(fD(fG))(fE);} catch(fH){ fE.k(fb(fH));} });} else eF().Fork(() => { fE.k(fF);});}, fE.ct));});}
function eC(){ return fe.Zero;}
function eD(fC, fD){ const fE=(eH())[0];const fF=fD==null?fE:fD.$0;eF().Fork(() => { if(!fF.c)fC(fa((fG) => { if(fG.$==1)eI(fG.$0);}, fF));});}
function eE(fC){ return(fD) => { fD.k(fc(fC));};}
function eF(){ return fe.scheduler;}
function eG(fC){ return(fD) => { if(fD.ct.c)eK(fD);else fC(fD);};}
function eH(){ return fe.defCTS;}
function eI(fC){ console.log("WebSharper: Uncaught asynchronous exception", fC);}
function eJ(fC){ return(fD) => { const fE=[false];const fF=(fG) => { if(fE[0])l("A continuation provided by Async.FromContinuations was invoked multiple times");else { fE[0]=true;eF().Fork(fG);} };fC((fG) => { fF(() => { fD.k(fc(fG));});}, (fG) => { fF(() => { fD.k(fb(fG));});}, (fG) => { fF(() => { fD.k(fd(fG));});});};}
function eK(fC){ fC.k(fd(new fq("New", fC.ct)));}
function eL(){ return eZ.UseAnimations;}
function eM(fC){ return eO(dP((fD) => fD.$==1?u0031(fD.$0):null, e1(fC.$0)));}
function eN(fC){ dK((fD) => { if(fD.$==0)fD.$0();}, e1(fC.$0));}
function eO(fC){ const fD=c1(fC);const fE=c_(fD);if(fE===0)return eQ();else if(fE===1)return c9(fD, 0);else { const fF=bZ(bN((fH) => fH.Duration, fD));const fG=dJ((fH) => eS(fF, fH), fD);return eR(fF, (fH) => { dK((fI) => { fI.Compute(fH);}, fG);});} }
function eP(fC){ return fC.$0;}
function eQ(fC){ return eR(0, () => fC);}
function eR(fC, fD){ return{Compute:fD, Duration:fC};}
function eS(fC, fD){ const fE=fD.Compute;const fF=fD.Duration;const fG=fr(() => fD.Compute(fD.Duration));return{Compute:(fH) => fH>=fF?fG.f():fE(fH), Duration:fC};}
let eT=fy((fC) => class fD { static { eT=fC(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
let eU=fy((fC) => class fD { static { eU=fC(this);} static counter;static { this.counter=0;} });
function eV(fC){ fC.splice(0, c_(fC));}
function eW(fC){ return ep(e6, fC);}
class eX { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fC){ return fx(eX, {$:2, $0:fC});} static Invalid(fC){ return fx(eX, {$:1, $0:fC});} static Valid(fC, fD){ return fx(eX, {$:0, $0:fC, $1:fD});} }
let eY=fy((fC) => class fD { static { eY=fC(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fE=[1, "<table>", "</table>"];let fF=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fE], ["tbody", fE], ["tfoot", fE], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fF;this.defaultWrap=[0, "", ""];} });
let eZ=fy((fC) => class fD { static { eZ=fC(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e$.Custom((fE) => { const fF=fE*fE;return 3*fF-2*(fF*fE);});this.UseAnimations=true;} });
function e0(fC, fD){ return fC.$==0?fD:fD.$==0?fC:{$:2, $0:fC, $1:fD};}
function e1(fC){ const fD=[];function fE(fF){ while(true){ if(fF.$==1)return fD.push(fF.$0);else if(fF.$==2){ const fG=fF.$1;const fH=fF.$0;fE(fH);fF=fG;} else return fF.$==3?dK((fI) => { fD.push(fI);}, fF.$0):null;} } fE(fC);return fD.slice(0);}
function e2(fC){ const fD=c1(fC);return c2(e3(), e0, fD);}
function e3(){ return fu.Empty;}
function e4(fC){ let fD=[];let fE;for(var fF in fC)fD.push.apply(fD, fC[fF]);return fD;}
class e5 extends x { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fC){ return ed();} NGetEnterAnim(fC){ return ed();} NGetChangeAnim(fC){ return ed();} NSync(fC){ if(this.dirty){(this.push(fC))(this.value);this.dirty=false;} } constructor(fC, fD){ super();this.push=fD;this.value=void 0;this.dirty=false;this.updates=O((fE) => { this.value=fE;this.dirty=true;}, fC);} }
function e6(fC){ return fC.match(new RegExp("\\s"))!==null;}
function e7(fC){ const fD=Date.parse(fC);return isNaN(fD)?null:u0031(fD);}
function e8(fC, fD, fE, fF){ const fG=+fC;const fH=fG===fG-fG%1&&fG>=fD&&fG<=fE;if(fH)fF.set(fG);return fH;}
class e9 extends Error { static New(){ return new this("New");} static New_1(fC){ return new this("New_1", fC);} constructor(fC, fD){ if(fC=="New"){ fC="New_1";fD="The given key was not present in the dictionary.";} if(fC=="New_1"){ const fE=fD;super(fE);} } }
class e_ extends x { idle;robin;Fork(fC){ this.robin.push(fC);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fC=Date.now();let fD=true;while(fD)if(this.robin.length===0){ this.idle=true;fD=false;} else {(this.robin.shift())();Date.now()-fC>40?(setTimeout(() => { this.tick();}, 0),fD=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class e$ extends x { transformTime;static Custom(fC){ return new e$(fC);} constructor(fC){ super();this.transformTime=fC;} }
function fa(fC, fD){ return{k:fC, ct:fD};}
function fb(fC){ return{$:1, $0:fC};}
function fc(fC){ return{$:0, $0:fC};}
function fd(fC){ return{$:2, $0:fC};}
let fe=fy((fC) => class fD { static { fe=fC(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=ff(false, []);this.scheduler=new e_();this.defCTS=[new fk()];this.Zero=eE();this.GetCT=(fE) => { fE.k(fc(fE.ct));};} });
function ff(fC, fD){ return{c:fC, r:fD};}
function fg(fC, fD){ return new dc("New_2", dI(fC, fi(fD)));}
function fh(fC, fD){ const fE=new dc("New_2", fi(fD));fE.ExceptWith(fi(fC));return fE;}
function fi(fC){ const fD=dQ(fC.Count, void 0);fC.CopyTo(fD, 0);return fD;}
function fj(fC, fD){ const fE=new dc("New_2", fi(fC));fE.IntersectWith(fi(fD));return fE;}
class fk extends x { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function fl(fC, fD){ let fE;if(fD!=null&&fD.$==1){ const fF=[];fE=fD.$0[0].nextSibling;while(fE!==fD.$0[1]){ fF.push(fE);fE=fE.nextSibling;} return fp(fF);} else { let fG=fC.childNodes.length;const fH=fC.childNodes;let fI=dR(fG, (fJ) => fH[fJ]);return fp(fI);} }
function fm(fC, fD){ const fE=fC.$0;return fp(dI((fF) => dS((fG) =>!(fF===fG), fE), fD.$0));}
function fn(fC, fD){ dK(fC, fD.$0);}
function fo(fC){ const fD=[];function fE(fF){ while(true){ if(fF!=null&&fF.$==2){ const fG=fF.$0;fF=fG.Current;} else if(fF!=null&&fF.$==1)return fD.push(fF.$0.El);else if(fF==null)return null;else if(fF!=null&&fF.$==5)return fD.push(fF.$0);else if(fF!=null&&fF.$==4)return fD.push(fF.$0.Text);else if(fF!=null&&fF.$==6){ const fH=fF.$0.Els;return(((fK) =>(fL) => { dK(fK, fL);})((fK) => { if(fK==null||fK.constructor===Object)fE(fK);else fD.push(fK);}))(fH);} else { const fI=fF.$1;const fJ=fF.$0;fE(fJ);fF=fI;} } } fE(fC.Children);return fp(c1(fD));}
function fp(fC){ return{$:0, $0:fC};}
class fq extends Error { ct;static New(fC){ return new this("New", fC);} static New_1(fC, fD, fE){ return new this("New_1", fC, fD, fE);} constructor(fC, fD, fE, fF){ let fG;if(fC=="New"){ fG=fD;fC="New_1";fD="The operation was canceled.";fE=null;fF=fG;} if(fC=="New_1"){ const fH=fD;const fI=fE;const fJ=fF;super(fH);this.inner=fI;this.ct=fJ;} } }
function fr(fC){ return fv(false, fC, fs);}
function fs(){ const fC=this.v();this.c=true;this.v=fC;this.f=ft;return fC;}
function ft(){ return this.v;}
let fu=fy((fC) => class fD { static { fu=fC(this);} static Empty;static { this.Empty={$:0};} });
function fv(fC, fD, fE){ return{c:fC, v:fD, f:fE};}
fB(() => { b();});
fw();

